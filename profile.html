<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InsecuriJobs | Profile</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <div class="navtitle-container">
            <img src="Untitled.png" width="80"/>
            <p class="navtitle">InsecuriJobs</p>
        </div>
        <div class="navlinks-container">
            <a href="index.html" class="navlinks">Home</a>
            <a href="post-job.html" class="navlinks">Post Job</a>
            <a href="./login.html" class="navlinks">Login</a>
            <a href="register.html" class="navlinks">Register</a>
        </div>
    </nav>

    <div class="profile-container">
        <h1>Profile</h1>
        <p><strong>Username: </strong> <span id="username"></span></p>
        <p><strong>Email: </strong><span id="email"></span></p>
        <button id="logout">Logout</button>
    </div>

    <script>
        let userName = localStorage.getItem("userName"); 
        let userEmail = localStorage.getItem("userEmail");

        if (userName && userEmail) {
            // Remove unwanted quotes or other characters if necessary
            userName = userName.replace(/['"]+/g, '');  // Remove any extra quotes
            userEmail = userEmail.replace(/['"]+/g, ''); // Remove any extra quotes

            document.getElementById("username").innerText = userName;
            document.getElementById("email").innerText = userEmail;
        } else {
            alert("Not logged in");
            window.location.href = "login.html";
        }

        // Logout button event listener
        document.getElementById("logout").addEventListener('click', function() {
            // Clear local storage
            localStorage.clear();

            // Redirect to index.html
            window.location.href = "index.html";
        });
    </script>
</body>
</html>
